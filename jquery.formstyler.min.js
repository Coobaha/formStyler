/* jQuery Form Styler v1.2.1 | (c) Dimox | http://dimox.name/jquery-form-styler/ */
(function(c){c.fn.styler=function(m){m=c.extend({browseText:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",zIndex:"1000"},m);return this.each(function(){var a=c(this),n=cl="";void 0!==a.attr("id")&&""!=a.attr("id")&&(n=' id="'+a.attr("id")+'"');void 0!==a.attr("class")&&""!=a.attr("class")&&(cl=" "+a.attr("class"));a.is(":checkbox")?a.css({position:"absolute",left:-9999}).each(function(){if(1>a.next("span.checkbox").length){var b=c("<span"+n+' class="checkbox'+cl+'" style="display:inline-block"><span></span></span>');
a.after(b);a.is(":checked")&&b.addClass("checked");a.is(":disabled")&&b.addClass("disabled");b.click(function(){if(!b.is(".disabled"))return a.is(":checked")?(a.removeAttr("checked"),b.removeClass("checked")):(a.attr("checked",!0),b.addClass("checked")),a.change(),!1});a.parent("label").add('label[for="'+a.attr("id")+'"]').click(function(a){b.click();a.preventDefault()});a.change(function(){a.is(":checked")?b.addClass("checked"):b.removeClass("checked")}).keydown(function(c){a.parent("label").length&&
(13==c.which||32==c.which)&&b.click()}).focus(function(){b.is(".disabled")||b.addClass("focused")}).blur(function(){b.removeClass("focused")});a.on("refresh",function(){a.is(":checked")?b.addClass("checked"):b.removeClass("checked");a.is(":disabled")?b.addClass("disabled"):b.removeClass("disabled")})}}):a.is(":radio")?a.css({position:"absolute",zIndex:"-5"}).each(function(){if(1>a.next("span.radio").length){var b=c("<span"+n+' class="radio'+cl+'" style="display:inline-block"><span></span></span>');
a.after(b);a.is(":checked")&&b.addClass("checked");a.is(":disabled")&&b.addClass("disabled");b.click(function(){if(!b.is(".disabled"))return c('input[name="'+a.attr("name")+'"]').removeAttr("checked").next().removeClass("checked"),a.attr("checked",!0).next().addClass("checked"),a.change(),!1});a.parent("label").add('label[for="'+a.attr("id")+'"]').click(function(a){b.click();a.preventDefault()});a.change(function(){c('input[name="'+a.attr("name")+'"]').next().removeClass("checked");a.next().addClass("checked")}).focus(function(){b.is(".disabled")||
b.addClass("focused")}).blur(function(){b.removeClass("focused")});a.on("refresh",function(){a.is(":checked")&&(c('input[name="'+a.attr("name")+'"]').next().removeClass("checked"),b.addClass("checked"));a.is(":disabled")?b.addClass("disabled"):b.removeClass("disabled")})}}):a.is(":file")?a.css({position:"absolute",left:-9999}).each(function(){if(1>a.next("span.file").length){var b=c("<span"+n+' class="file'+cl+'" style="display:inline-block"></span>'),k=c('<input class="name" type="text" readonly="readonly" style="float:left">').appendTo(b);
c('<div class="browse" style="float:left">'+m.browseText+"</div>").appendTo(b);a.after(b);a.is(":disabled")&&b.addClass("disabled");a.not(":disabled")&&(b.on("click",function(){a.click()}),a.change(function(){k.val(a.val().replace(/.+[\\\/]/,""))}));a.on("refresh",function(){a.is(":disabled")?b.addClass("disabled"):b.removeClass("disabled")})}}):a.is("select")&&a.each(function(){if(1>a.next("span.jqselect").length){var b=function(a){a.bind("mousewheel DOMMouseScroll",function(a){var b=null;"mousewheel"==
a.type?b=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"==a.type&&(b=40*a.originalEvent.detail);b&&(a.preventDefault(),c(this).scrollTop(b+c(this).scrollTop()))})},k=function(){var f=c("<span"+n+' class="selectbox jqselect'+cl+'" style="display:inline-block;position:relative;z-index:'+m.zIndex+'"><div class="select" style="float:left"><div class="text"></div><b class="trigger"><i class="arrow"></i></b></div></span>');a.after(f).css({position:"absolute",left:-9999});var j=f.find("div.select"),g=f.find("div.text"),
e=a.find("option"),h=e.filter(":selected");h.length?g.text(h.text()):g.text(e.filter(":first").text());if(a.is(":disabled"))f.addClass("disabled");else{h="";for(i=0;i<e.length;i++){var r="";"undefined"!==typeof e.eq(i).attr("selected")&&!1!==e.eq(i).attr("selected")&&(r=' class="selected sel"');e.eq(i).is(":disabled")&&(r=' class="disabled"');h+="<li"+r+">"+e.eq(i).text()+"</li>"}var d=c('<div class="dropdown" style="position:absolute;overflow:auto;overflow-x:hidden"><ul style="list-style:none">'+
h+"</ul></div>").hide();f.append(d);var l=d.find("li"),s=f.outerHeight();"auto"==d.css("left")&&d.css({left:0});"auto"==d.css("top")&&d.css({top:s});var p=l.outerHeight(),k=d.css("top");j.click(function(){var a=f.offset().top,e=c(window).height()-s-(a-c(window).scrollTop());0>e||e<6*p?(d.height("auto").css({top:"auto",bottom:k}),d.outerHeight()>a-c(window).scrollTop()-20&&d.height(Math.floor((a-c(window).scrollTop()-20)/p)*p)):e>6*p&&(d.height("auto").css({bottom:"auto",top:k}),d.outerHeight()>e-
20&&d.height(Math.floor((e-20)/p)*p));c("span.selectbox").css({zIndex:m.zIndex-1}).removeClass("focused");f.css({zIndex:m.zIndex});d.is(":hidden")?(c("div.dropdown:visible").hide(),d.show()):d.hide();d.scrollTop(d.scrollTop()+l.filter(".selected").position().top-d.innerHeight()/2+l.filter(".selected").outerHeight()/2);b(d);return!1});l.hover(function(){c(this).siblings().removeClass("selected")});var q=l.filter(".selected").text();l.filter(":not(.disabled)").click(function(){var b=c(this).text();
q!=b&&(c(this).addClass("selected sel").siblings().removeClass("selected sel"),e.removeAttr("selected").eq(c(this).index()).attr("selected",!0),q=b,g.text(b),a.change());d.hide()});d.mouseout(function(){d.find("li.sel").addClass("selected")});a.focus(function(){c("span.selectbox").removeClass("focused");f.addClass("focused")}).keyup(function(){g.text(e.filter(":selected").text());l.removeClass("selected sel").eq(e.filter(":selected").index()).addClass("selected sel")});c(document).on("click",function(a){c(a.target).parents().hasClass("selectbox")||
(d.hide().find("li.sel").addClass("selected"),f.removeClass("focused"))})}},q=function(){var f=c("<span"+n+' class="selectMultiple jqselect'+cl+'" style="display:inline-block"></span>');a.after(f).css({position:"absolute",left:-9999});var j=a.find("option"),g="";for(i=0;i<j.length;i++){var e="";"undefined"!==typeof j.eq(i).attr("selected")&&!1!==j.eq(i).attr("selected")&&(e=' class="selected"');j.eq(i).is(":disabled")&&(e=' class="disabled"');j.eq(i).is(":selected:disabled")&&(e=' class="selected disabled"');
g+="<li"+e+">"+j.eq(i).text()+"</li>"}f.append("<ul>"+g+"</ul>");var g=f.find("ul"),h=f.find("li").attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"}),e=a.attr("size"),k=g.outerHeight(),d=h.outerHeight();void 0!==e&&0<e?g.css({height:d*e}):g.css({height:4*d});k>f.height()&&(g.css("overflowY","scroll"),b(g));a.is(":disabled")?(f.addClass("disabled"),j.each(function(){c(this).is(":selected")&&h.eq(c(this).index()).addClass("selected")})):
h.filter(":not(.disabled)").click(function(b){var d=c(this);b.ctrlKey||d.addClass("selected");b.shiftKey||d.addClass("first");!b.ctrlKey&&!b.shiftKey&&d.siblings().removeClass("selected first");b.ctrlKey&&(d.is(".selected")?d.removeClass("selected first"):d.addClass("selected first"),d.siblings().removeClass("first"));if(b.shiftKey){var e=next=!1;d.siblings().removeClass("selected").siblings(".first").addClass("selected");d.prevAll().each(function(){c(this).is(".first")&&(e=!0)});d.nextAll().each(function(){c(this).is(".first")&&
(next=!0)});e&&d.prevAll().each(function(){if(c(this).is(".selected"))return!1;c(this).not(".disabled").addClass("selected")});next&&d.nextAll().each(function(){if(c(this).is(".selected"))return!1;c(this).not(".disabled").addClass("selected")});1==h.filter(".selected").length&&d.addClass("first")}j.removeAttr("selected");h.filter(".selected").each(function(){j.eq(c(this).index()).attr("selected",!0)});a.change()})};a.is("[multiple]")?q():k();a.on("refresh",function(){a.next().remove();a.is("[multiple]")?
q():k()})}})})}})(jQuery);